<!DOCTYPE html>
<html>
<head>
    <title>N-o-C-H</title>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="/style.css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript" src="farbtastic.js"></script>
    <script src="lib/easeljs-0.8.2.min.js"></script>
    <script src="https://code.createjs.com/preloadjs-0.6.2.min.js"></script>
    <script type="text/javascript" src="help.js"></script>
</head>

<body onkeypress="showChar(event);">
<div id="main">
    <div id="overlay">
        

        <div id="overlay_opacity">
        </div>
       
        <div id="menu">
            <h1>NOCH</h1>
            <img height="80" style="position: absolute; top: 165px; right: -5px;z-index: 2;" id="try_more" src="assets/try_more.png"> </img>
            <a href="http://nochgames.ru/we/"><img style="position: absolute; top: 161px; right: 58px;z-index: 2;" id="garage" src="garage/(1).png"> </img> </a>
            <ul class = "input_type_ul">
                <li class="input_type_li">
                    <input name="login" id="login__input" placeholder="login" class="input_login">
                </li>
                <li class="input_type_li">
                    <!-- <input name="password" id="password__input" placeholder="password" style="color: white; font-size:20px; width: 85%; height:30px;background-color: #181715;border: 2px grey solid;"> -->
                    <script type="text/javascript" charset="utf-8">
                        $(document).ready(function() {
                            $('#demo').hide();
                            $('#picker').farbtastic('#btn__go');
                        });
                    </script>

                    <form action="" style="width: 400px; z-index: 100;">
                        <div class="form-item">

                        </div>
                        <div id="picker"></div>

                    </form>

                    
                    <div id="btn__go">
                        <h2>GO</h2>
                    </div>
                </li>
            </ul>
        </div>
    </div>
     <div id = "leadership" style="font-family: Nevis;">
            <table id = "leader_ship_table" style="float: right; border-spacing: 10px;">
                <tr>
                    <td class="leadership_table_td_name"> NAME
                    </td>
                    <td class="leadership_table_td_kills"> KILLED
                    </td>
                </tr>
               

            </table>
    </div> 
    <div id = "dead"> <img src="dead/(1).png"> </img> </div>
    <div id ="help"> </div>
    <canvas id="canvas"></canvas>
</div>

<script type="text/javascript" src="client.js"></script>
<script>   
    function reload_table(ar){
        var table = document.getElementById("leader_ship_table");
        for (var i=0; i<ar.length;i++){
            var tr = document.createElement('tr');
            var td1 = document.createElement('td');
            var td2 = document.createElement('td');
            td1.innerHTML = ar[i].name;
            td2.innerHTML = ar[i].kills;
            td1.className = "leadership_table_td_name";
            td2.className = "leadership_table_td_kills";
            tr.appendChild(td1);
            tr.appendChild(td2);
            table.appendChild(tr);
        }
    }
    //_______________анимация кнопки для гаража и подсказки купить атом чтоб мы получили бабки
    $( document ).ready(function() {
         function animation(){
            //alert(tick);
            $("#garage").attr("src","garage/(" + (tick % 100 + 1) + ").png");
            //console.log("garage/(" + (tick % 100 + 1) + ").png")
            //   arr[tick % 100].style.display = "block";
            // var prev = tick % 100 - 1;
            // if (tick % 100 == 0) prev = 99;
            // arr[prev].style.display = "none";
            console.log(tick % 100);
            tick++;
            if (!animate){
               return; 
            }
            requestAnimationFrame(animation);
            
        }
        function handlerIn(){ 
            //intervalID = setInterval(animation,30);
            
            animate = !animate;
            requestId = requestAnimationFrame(animation);
          


        }
        function handlerOut(){
            //clearInterval(intervalID);
            var prev = tick % 100 - 1;
            if (tick % 100 == 0) prev = 99;
            // arr[tick % 100].style.display = "none";
            // arr[tick % 100-1].style.display = "none";
            // arr[0].style.display = "block";
            // arr[prev].style.display = "none";

             cancelAnimationFrame(requestId);
             animate = !animate;
             tick = 0;

            // $("#garage").attr("src","garage/(1).png");
             $("#try_more").hide(200);
            
        }
        //новый код
        // var arr = [];
        // for (var i=0;i<100;i++){
        //     var img = document.createElement('img');
        //     img.className = "garage_img";
        //     img.src = "garage/(" + (i+1) + ").png";
        //     img.style.display = "none";
        //     var relative = document.getElementById('menu');
        //     relative.appendChild(img);
        //     arr.push(img);
        // }
        // arr[0].style.display = "block";
        /////
        var tick = 0,animate = false;
        var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||
                              window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;
        window.requestAnimationFrame = requestAnimationFrame;
        var requestId;
        $("#garage").hover( handlerIn, handlerOut );

        ////
        var obj1 = {
            name: "value0",
            kills: 126,
        }
        var obj2 = {
            name: "value1",
            kills: 125,
        }
        var empty =[];
        empty.push(obj1,obj2);
        reload_table(empty);
        
        //var intervalID;
        //fly_faster();
        // var a = new GameHelp();
        // a.flyFaster("ru",250);
        // $(window).keypress(function (e) {
        //   if (e.keyCode === 0 || e.keyCode === 32) {
        //     e.preventDefault()
        //     a.hideHelp(function() { a.dontDie("ru",250); });
        //   }
        // })
        
        //a.hideHelp();
    });
     //______отключение увеличения умеьшения в сафари по плюсу и минусу
     function showChar(e){
          if (e.charCode == '61' || e.charCode == '45' || e.charCode == '43' || e.charCode == '95')
          {
            e.preventDefault(); 
          }
          return false;   
      }

      

</script>
</body>
<div id="logs"></div>
</html>
